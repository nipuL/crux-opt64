# Description: Haskell compiler
# URL: http://www.haskell.org/haskellwiki/Glasgow_Haskell_Compiler
# Maintainer: Lucas Hazel, lucas at die dot net dot au
# Depends on: libgmp

name=ghc
version=6.8.1
release=1
source=(http://www.haskell.org/ghc/dist/$version/$name-$version-src.tar.bz2 http://www.haskell.org/ghc/dist/$version/$name-$version-src-extralibs.tar.bz2)

if [ -z "`pkginfo -i | cut -d' ' -f1 | grep ^ghc$`" ]; then
	source=(http://www.haskell.org/ghc/dist/$version/$name-$version-x86_64-unknown-linux.tar.bz2)
fi

build() {
	cd $name-$version
	./configure --prefix=/usr
	make
	mkdir -p $PKG/usr/{bin,lib}
	make DESTDIR=$PKG install
}
