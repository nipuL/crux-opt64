# Description: Web framework written in python
# URL: http://djangoproject.com
# Maintainer: Lucas Hazel, lucas@die.net.au
# Depends on: subversion setuptools

name=django
version=svn
release=2
source=()

build() {
	cd $PKGMK_SOURCE_DIR
	if [ -d $name ]; then
		(cd $name;svn up)
	else
		svn co http://code.djangoproject.com/svn/django/trunk/ $name
	fi
	
	svn export $name $SRC/$name

	cd $SRC
	wget -O list_filter.diff "http://code.djangoproject.com/attachment/ticket/3400/list_filter.3.diff?format=raw"

	cd $name
	
	patch -p0 -i ../list_filter.diff
	python setup.py install --root=$PKG
	
}
